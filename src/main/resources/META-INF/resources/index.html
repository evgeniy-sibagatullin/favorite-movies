<!DOCTYPE html>
<html>
<body>

<h1>Country data test page</h1>

<form id="form1" enctype="application/x-www-form-urlencoded">
    <label for="country_name" style="display:inline">Country name:</label>
    <input id="country_name" name="country_name" type="text"/>
    <input type="button" value="Get country data with AJAX" onclick="ajaxCountryRequest()"/>
    <p/>
</form>

<form id="form2" enctype="application/x-www-form-urlencoded">
    <label for="movie_query" style="display:inline">Movie query:</label>
    <input id="movie_query" name="movie_query" type="text"/>
    <input type="button" value="Get movie data with AJAX" onclick="ajaxMovieRequest()"/>
    <p/>
</form>

<span id="resultContainer">yep</span>

<script>
    function ajaxCountryRequest() {
        var xhr = new XMLHttpRequest();
        xhr.open('POST', 'country/ajax/getCountryData');
        xhr.setRequestHeader('Content-Type', 'application/json')
        xhr.send(document.getElementById('country_name').value);
        xhr.addEventListener('load', receiveResponse);
    }

    function ajaxMovieRequest() {
        var xhr = new XMLHttpRequest();
        xhr.open('POST', 'movie/ajax/getMovieData');
        xhr.setRequestHeader('Content-Type', 'application/json')
        xhr.send(document.getElementById('movie_query').value);
        xhr.addEventListener('load', receiveResponse);
    }

    function receiveResponse() {
        document.getElementById("resultContainer").innerHTML = this.responseText;
    }

</script>
</body>
</html>




