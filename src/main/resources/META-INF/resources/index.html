<!DOCTYPE html>
<html>
<body>

<h1>Country data test page</h1>

<form id="form1" method="GET" action="http://localhost:9000/api/calculate"
      enctype="application/x-www-form-urlencoded">
    <label for="country_name" style="display:inline">Country name:</label>
    <input id="country_name" name="country_name" type="text"/>
    <input type="button" value="Get country data with AJAX" onclick="ajaxRequest()"/>
    <p/>
</form>

<span id="resultContainer">yep</span>

<script>
    function ajaxRequest() {
        var xhr = new XMLHttpRequest();
        xhr.open('POST', 'country/ajax/getCountryData');
        xhr.setRequestHeader('Content-Type', 'application/json')
        xhr.send(document.getElementById('country_name').value);
        xhr.addEventListener('load', receiveResponse);
    }

    function receiveResponse() {
        var responseData = this.responseText;
        setResult(responseData);
    }

    function setResult(res) {
        document.getElementById("resultContainer").innerHTML = res;
    }

</script>
</body>
</html>




